<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.afc6d0fd1c9f3ec93158.css">*{box-sizing:border-box}body,html{margin:0;padding:0}html{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5}@media (min-width:38em){html{font-size:20px}}body{color:#515151;background-color:#fff;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a{color:#268bd2;text-decoration:none}a strong{color:inherit}a:focus,a:hover{text-decoration:underline}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:700;line-height:1.25;text-rendering:optimizeLegibility}h1{font-size:1.75rem}h2{margin-top:1rem;font-size:1.5rem}h3{margin-top:1.5rem;font-size:1.25rem}h4,h5,h6{margin-top:1rem;font-size:1rem}p{margin-top:0;margin-bottom:1rem}strong{color:#303030}dl,ol,ul{margin-top:0;margin-bottom:1rem}dt{font-weight:700}dd{margin-bottom:.5rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}abbr{font-size:85%;font-weight:700;color:#555;text-transform:uppercase}abbr[title]{cursor:help;border-bottom:1px dotted #e5e5e5}code,pre{font-family:Menlo,Monaco,Courier New,monospace}code{padding:.25em .5em;font-size:85%;color:#bf616a;border-radius:3px}code,pre{background-color:#f9f9f9}pre{display:block;margin-top:0;margin-bottom:1rem;padding:1rem;font-size:.8rem;line-height:1.4;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word}pre code{padding:0;font-size:100%;color:inherit;background-color:transparent}.highlight{margin-bottom:1rem;border-radius:4px}.highlight pre{margin-bottom:0}.gist .gist-file{font-family:Menlo,Monaco,Courier New,monospace!important}.gist .markdown-body{padding:15px}.gist pre{padding:0;background-color:transparent}.gist .gist-file .gist-data{font-size:.8rem!important;line-height:1.4}.gist code{padding:0;color:inherit;background-color:transparent;border-radius:0}blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#7a7a7a;border-left:.25rem solid #e5e5e5}blockquote p:last-child{margin-bottom:0}@media (min-width:30em){blockquote{padding-right:5rem;padding-left:1.25rem}}img{display:block;max-width:100%;margin:0 0 1rem;border-radius:5px}table{margin-bottom:1rem;width:100%;border:1px solid #e5e5e5;border-collapse:collapse}td,th{padding:.25rem .5rem;border:1px solid #e5e5e5}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f9f9f9}.lead{font-size:1.25rem;font-weight:300}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}@media (min-width:30em){.pagination{margin:3rem 0}.pagination-item{float:left;width:50%}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}}body,html{overflow-x:hidden}html{font-family:PT Sans,Georgia,Times New Roman,serif}h1,h2,h3,h4,h5,h6{font-family:PT Sans,Helvetica,Arial,sans-serif;font-weight:400;color:#313131;letter-spacing:-.025rem}.wrap{position:relative;width:100%}.container{max-width:28rem}@media (min-width:38rem){.container{max-width:32rem}}@media (min-width:56rem){.container{max-width:38rem}}.masthead{padding-top:1rem;padding-bottom:1rem;margin-bottom:3rem;border-bottom:1px solid #eee}.masthead-title{margin-top:0;margin-bottom:0;color:#505050}.masthead-title a{color:#505050}.masthead-title small{font-size:75%;font-weight:400;color:silver;letter-spacing:0}@media (max-width:48rem){.masthead-title{text-align:center}.masthead-title small{display:none}}.sidebar{position:fixed;top:0;bottom:0;left:-14rem;width:14rem;visibility:hidden;overflow-y:auto;font-family:PT Sans,Helvetica,Arial,sans-serif;font-size:.875rem;color:hsla(0,0%,100%,.6);background-color:#202020;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}@media (min-width:30rem){.sidebar{font-size:.75rem}}.sidebar a{font-weight:400;color:#fff}.sidebar-item{padding:1rem}.sidebar-item p:last-child{margin-bottom:0}.sidebar-nav{border-bottom:1px solid hsla(0,0%,100%,.1)}.sidebar-nav-item{display:block;padding:.5rem 1rem;border-top:1px solid hsla(0,0%,100%,.1)}.sidebar-nav-item.active,a.sidebar-nav-item:focus,a.sidebar-nav-item:hover{text-decoration:none;background-color:hsla(0,0%,100%,.1);border-color:transparent}@media (min-width:48rem){.sidebar-item{padding:1.5rem}.sidebar-nav-item{padding-left:1.5rem;padding-right:1.5rem}}.sidebar-checkbox{display:none}.sidebar-toggle{position:absolute;top:1rem;left:1rem;display:block;width:2.2rem;padding:.5rem .65rem;color:#505050;background-color:#fff;border-radius:4px;cursor:pointer}.sidebar-toggle:before{display:block;content:"";width:100%;padding-bottom:.125rem;border-top:.375rem double;border-bottom:.125rem solid;box-sizing:border-box}#sidebar-checkbox:checked~.sidebar-toggle,.sidebar-toggle:active{color:#fff;background-color:#505050}@media (min-width:30.1rem){.sidebar-toggle{position:fixed;width:2.25rem}.sidebar-toggle:before{padding-bottom:.15rem;border-top-width:.45rem;border-bottom-width:.15rem}}.sidebar,.sidebar-toggle,.wrap{-webkit-backface-visibility:hidden;backface-visibility:hidden}.sidebar-toggle,.wrap{-webkit-transition:-webkit-transform .3s ease-in-out;transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out;transition:transform .3s ease-in-out,-webkit-transform .3s ease-in-out}#sidebar-checkbox:checked+.sidebar{visibility:visible}#sidebar-checkbox:checked~.sidebar,#sidebar-checkbox:checked~.sidebar-toggle,#sidebar-checkbox:checked~.wrap{-webkit-transform:translateX(14rem);transform:translateX(14rem)}.page,.post{margin-bottom:4em}.page-title,.post-title,.post-title a{color:#303030}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.5rem;margin-bottom:1rem;color:#9a9a9a}.related{padding-top:2rem;padding-bottom:2rem;border-top:1px solid #eee}.related-posts{padding-left:0;list-style:none}.related-posts h3{margin-top:0}.related-posts li small{font-size:75%;color:#999}.related-posts li a:hover{color:#268bd2;text-decoration:none}.related-posts li a:hover small{color:inherit}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;font-family:PT Sans,Helvetica,Arial,sans-serif;color:#ccc;text-align:center}.pagination-item{display:block;padding:1rem;border:1px solid #eee}.pagination-item:first-child{margin-bottom:-1px}a.pagination-item:hover{background-color:#f5f5f5}@media (min-width:30rem){.pagination{margin:3rem 0}.pagination-item{float:left;width:50%}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}}.layout-reverse .sidebar{left:auto;right:-14rem}.layout-reverse .sidebar-toggle{left:auto;right:1rem}.layout-reverse #sidebar-checkbox:checked~.sidebar,.layout-reverse #sidebar-checkbox:checked~.sidebar-toggle,.layout-reverse #sidebar-checkbox:checked~.wrap{-webkit-transform:translateX(-14rem);transform:translateX(-14rem)}.theme-base-08 #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-08 .sidebar,.theme-base-08 .sidebar-toggle:active{background-color:#ac4142}.theme-base-08 .container a,.theme-base-08 .related-posts li a:hover,.theme-base-08 .sidebar-toggle{color:#ac4142}.theme-base-09 #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-09 .sidebar,.theme-base-09 .sidebar-toggle:active{background-color:#d28445}.theme-base-09 .container a,.theme-base-09 .related-posts li a:hover,.theme-base-09 .sidebar-toggle{color:#d28445}.theme-base-0a #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0a .sidebar,.theme-base-0a .sidebar-toggle:active{background-color:#f4bf75}.theme-base-0a .container a,.theme-base-0a .related-posts li a:hover,.theme-base-0a .sidebar-toggle{color:#f4bf75}.theme-base-0b #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0b .sidebar,.theme-base-0b .sidebar-toggle:active{background-color:#90a959}.theme-base-0b .container a,.theme-base-0b .related-posts li a:hover,.theme-base-0b .sidebar-toggle{color:#90a959}.theme-base-0c #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0c .sidebar,.theme-base-0c .sidebar-toggle:active{background-color:#75b5aa}.theme-base-0c .container a,.theme-base-0c .related-posts li a:hover,.theme-base-0c .sidebar-toggle{color:#75b5aa}.theme-base-0d #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0d .sidebar,.theme-base-0d .sidebar-toggle:active{background-color:#6a9fb5}.theme-base-0d .container a,.theme-base-0d .related-posts li a:hover,.theme-base-0d .sidebar-toggle{color:#6a9fb5}.theme-base-0e #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0e .sidebar,.theme-base-0e .sidebar-toggle:active{background-color:#aa759f}.theme-base-0e .container a,.theme-base-0e .related-posts li a:hover,.theme-base-0e .sidebar-toggle{color:#aa759f}.theme-base-0f #sidebar-checkbox:checked~.sidebar-toggle,.theme-base-0f .sidebar,.theme-base-0f .sidebar-toggle:active{background-color:#8f5536}.theme-base-0f .container a,.theme-base-0f .related-posts li a:hover,.theme-base-0f .sidebar-toggle{color:#8f5536}.masthead-title{float:left}@media (max-width:48rem){.masthead-title{margin-left:4rem}.masthead-title small{display:inline}}.masthead-feed{float:right;margin-top:0;margin-bottom:0}.clearfix:after,.clearfix:before{display:table;content:" "}.clearfix:after{clear:both}.page :not(.page-title),.post :not(.post-title):not(.post-date):not(h1):not(h2):not(h3):not(h4){text-align:justify}.page div.contact-showcase,.post div.contact-showcase{font-size:200%;text-align:center}.post figcaption.caption{font-size:.75rem;margin-top:20px;text-align:center!important}.content .twitter-plug{margin-top:-2rem;margin-bottom:1rem}.contact-showcase a{margin:0 .5em}.archive-year{font-family:PT Sans,Helvetica,Arial,sans-serif}.archive-year .item-date{color:grey}img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-.1em!important;background:none!important;padding:0!important}@font-face{font-family:fontello;src:url(/static/fontello-986388db963fa98f147ff660281f00af.eot);src:url(/static/fontello-986388db963fa98f147ff660281f00af.eot#iefix) format("embedded-opentype"),url(data:font/woff;base64,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) format("woff"),url(/static/fontello-3fe553bf3a93bc640dcb3e4f9f3ed47a.ttf) format("truetype"),url(/static/fontello-809706dcb75364db0fc2b8526530b1cb.svg#fontello) format("svg");font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;font-size:120%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-stackoverflow:before{content:"\E800"}.icon-linkedin-squared:before{content:"\E801"}.icon-linkedin:before{content:"\E802"}.icon-github:before{content:"\E803"}.icon-github-squared:before{content:"\E804"}.icon-github-circled:before{content:"\E805"}.icon-hacker-news:before{content:"\E806"}.icon-html5:before{content:"\E807"}.icon-facebook-squared:before{content:"\E808"}.icon-facebook:before{content:"\E809"}.icon-facebook-official:before{content:"\E80A"}.icon-twitter-squared:before{content:"\E80B"}.icon-twitter:before{content:"\E80C"}.icon-yahoo:before{content:"\E80D"}.icon-reddit:before{content:"\E80E"}.icon-reddit-squared:before{content:"\E80F"}.icon-css3:before{content:"\E810"}.icon-bitbucket:before{content:"\E811"}.icon-bitbucket-squared:before{content:"\E812"}.icon-apple:before{content:"\E813"}.icon-google:before{content:"\E814"}.icon-gplus:before{content:"\E815"}.icon-gplus-squared:before{content:"\E816"}.icon-rss:before{content:"\E817"}.icon-rss-squared:before{content:"\E818"}.icon-mail:before{content:"\E819"}.icon-mail-alt:before{content:"\E81A"}.icon-mail-squared:before{content:"\E81B"}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.3.23"/><link href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400" rel="stylesheet"/><title data-react-helmet="true">An Exploration of Object Recursion Design Patterns with Om Next Recursive Queries - Part 1 · anmonteiro</title><link data-react-helmet="true" href="http://gmpg.org/xfn/11" rel="profile"/><link data-react-helmet="true" rel="me" href="https://twitter.com/_anmonteiro" type="text/html"/><link data-react-helmet="true" rel="archives" href="https://anmonteiro.com/archive/" title="Archive"/><link data-react-helmet="true" rel="index" href="https://anmonteiro.com" title="anmonteiro · Code ramblings"/><link data-react-helmet="true" rel="canonical" href="https://anmonteiro.comhttps://anmonteiro.com/2016/01/exploration-patterns-om-next-part-1/"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png"/><link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"/><link data-react-helmet="true" rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml"/><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge"/><meta data-react-helmet="true" http-equiv="content-type" content="text/html; charset=utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/><meta data-react-helmet="true" name="keywords" content="clojure,clojurescript,om"/><meta data-react-helmet="true" name="description" content="
The recent [landing of recursive union queries](https://github.com/omcljs/om/pull/562) in Om Next allows for defining recursive, heterogeneous data in a simple, expressive way. In a series of posts, I will explore how this conjugates with well-known Software Engineering structural design patterns that are based on object recursion. In this part 1 we will put together a simple component hierarchy that uses the [Composite](https://en.wikipedia.org/wiki/Composite_pattern) design pattern. Let&#x27;s dig into it.

"/><meta data-react-helmet="true" name="googlebot" content="index,follow"/><meta data-react-helmet="true" name="google-site-verification" content="jNB_RpsVIbD_zo20cgitqGwzGVqV8q2otgU18nVlFTo"/><meta data-react-helmet="true" property="og:url" content="https://anmonteiro.comhttps://anmonteiro.com/2016/01/exploration-patterns-om-next-part-1/"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="An Exploration of Object Recursion Design Patterns with Om Next Recursive Queries - Part 1 · anmonteiro"/><meta data-react-helmet="true" property="og:image" content="https://anmonteiro.com/img/profile_pic.png"/><meta data-react-helmet="true" property="og:description" content="
The recent [landing of recursive union queries](https://github.com/omcljs/om/pull/562) in Om Next allows for defining recursive, heterogeneous data in a simple, expressive way. In a series of posts, I will explore how this conjugates with well-known Software Engineering structural design patterns that are based on object recursion. In this part 1 we will put together a simple component hierarchy that uses the [Composite](https://en.wikipedia.org/wiki/Composite_pattern) design pattern. Let&#x27;s dig into it.

"/><meta data-react-helmet="true" property="og:site_name" content="anmonteiro · Code ramblings"/><meta data-react-helmet="true" property="og:locale" content="en_US"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:site" content="@_anmonteiro"/><meta data-react-helmet="true" name="twitter:creator" content="@_anmonteiro"/><meta data-react-helmet="true" name="twitter:url" content="https://anmonteiro.comhttps://anmonteiro.com/2016/01/exploration-patterns-om-next-part-1/"/><meta data-react-helmet="true" name="twitter:title" content="An Exploration of Object Recursion Design Patterns with Om Next Recursive Queries - Part 1 · anmonteiro"/><meta data-react-helmet="true" name="twitter:description" content="
The recent [landing of recursive union queries](https://github.com/omcljs/om/pull/562) in Om Next allows for defining recursive, heterogeneous data in a simple, expressive way. In a series of posts, I will explore how this conjugates with well-known Software Engineering structural design patterns that are based on object recursion. In this part 1 we will put together a simple component hierarchy that uses the [Composite](https://en.wikipedia.org/wiki/Composite_pattern) design pattern. Let&#x27;s dig into it.

"/><meta data-react-helmet="true" name="twitter:image" content="https://anmonteiro.com/img/profile_pic.png"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="anmonteiro.com RSS Feed" href="/atom.xml"/><link as="script" rel="preload" href="/component---src-templates-post-js-c20d619e98ef26a2045e.js"/><link as="script" rel="preload" href="/app-694be8ca2a1be72bafa3.js"/><link as="script" rel="preload" href="/2-edbe58b1131d6102fbd4.js"/><link as="script" rel="preload" href="/1-514ff0fa15c810a82764.js"/><link as="script" rel="preload" href="/styles-caf22cadb3e89a1505b5.js"/><link as="script" rel="preload" href="/webpack-runtime-58919e2cd467099fa0b8.js"/><link as="fetch" rel="preload" href="/static/d/549/path---2016-01-exploration-patterns-om-next-part-1-bf-6-4b5-XF95hwEOu1aSzxQiCgRneeS7M.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="theme-base-0f"><input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"/><div class="sidebar" id="sidebar"><div class="sidebar-item description"><p>
    I&#x27;m a Software Engineer with a passion for entrepreneurship and open-source
    software. This is where I write about software engineering, programming and
    lifestyle.</p></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="/">Home</a><a class="sidebar-nav-item" href="/archive">Archive</a><a class="sidebar-nav-item" href="/about/">About</a><a class="sidebar-nav-item" href="http://github.com/anmonteiro">GitHub (anmonteiro)</a></nav><div class="sidebar-item"><p>© <!-- -->2019<!-- -->. All rights reserved.</p></div></div><div class="wrap"><div class="masthead"><div class="container"><h3 class="masthead-title"><a title="Home" href="/">anmonteiro</a><small> <!-- -->Code ramblings</small></h3><div class="masthead-feed"><a href="/atom.xml"><span class="icon-rss"></span> </a></div><div class="clearfix"></div></div></div><div class="content container"><div class="post"><h1 class="post-title">An Exploration of Object Recursion Design Patterns with Om Next Recursive Queries - Part 1</h1><span class="post-date">07 Jan 2016</span><div><p>The recent <a href="https://github.com/omcljs/om/pull/562">landing of recursive union queries</a> in Om Next allows for defining recursive, heterogeneous data in a simple, expressive way. In a series of posts, I will explore how this conjugates with well-known Software Engineering structural design patterns that are based on object recursion. In this part 1 we will put together a simple component hierarchy that uses the <a href="https://en.wikipedia.org/wiki/Composite_pattern">Composite</a> design pattern. Let's dig into it.</p>
<!--more-->
<h2>The Composite design pattern</h2>
<div style="max-width:75%;margin:15px auto 0;">
  <img src="https://cloud.githubusercontent.com/assets/661909/12181450/8858f8ac-b582-11e5-99e2-3c11f1913801.png" alt="Composite design pattern">
</div>
<p>The Composite is part of the design pattern collection in the <a href="https://en.wikipedia.org/wiki/Design_Patterns">Gang of Four book</a>. Its purpose is to <strong>compose</strong> trees of objects that fulfill the same contract by building and iterating over them. The secret weapon here is that, while iterating, there is no need to know if we're working on a leaf node or an inner node — we can simply treat every node in the same way. Inner nodes will take care of iterating over their children in the process.</p>
<h2>Our example</h2>
<p>In our simplified example, we want to render a square that can arbitrarily contain other squares. Using the nomenclature in the above diagram, we need to define Om Next components for both the <code class="language-text">Leaf</code> and the <code class="language-text">Composite</code>. <code class="language-text">Composite</code> components can have <code class="language-text">children</code>, whereas <code class="language-text">Leaf</code> components cannot. We will also have our version of <code class="language-text">Component</code>, which aggregates the queries for both others, and dispatches rendering to them <sup><sub>1</sub></sup>.</p>
<h3>The data</h3>
<p>We start with the data below. Each square contains attributes for its width, height and color. Each item also has an <code class="language-text">id</code>; this reveals helpful in normalizing the data.</p>
<div style="margin-bottom: 20px;">
  <div id="dp-card-1"></div>
</div>
<h3>The Om Next components</h3>
<p>Our <code class="language-text">Leaf</code> and <code class="language-text">Composite</code> components are shown below <sup><sub>2</sub></sup>. Their queries are trivial, in the sense that they just declare the attributes we have talked about before. The only exception, which you might have not seen before, is the <code class="language-text">{:children ...}</code> part. This is how we declare recursion in Om Next. Refer to my post about Om Next's <a href="2016/01/om-next-query-syntax">query syntax</a> where I explain this and other bits in detail.</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span>defui Leaf
  static om/IQuery
  <span class="token punctuation">(</span>query <span class="token punctuation">[</span>this<span class="token punctuation">]</span>
    '<span class="token punctuation">[</span><span class="token operator">:id</span> <span class="token operator">:width</span> <span class="token operator">:height</span> <span class="token operator">:color</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span>defui Composite
  static om/IQuery
  <span class="token punctuation">(</span>query <span class="token punctuation">[</span>this<span class="token punctuation">]</span>
    '<span class="token punctuation">[</span><span class="token operator">:id</span> <span class="token operator">:width</span> <span class="token operator">:height</span> <span class="token operator">:color</span> <span class="token punctuation">{</span><span class="token operator">:children</span> <span class="token keyword">..</span>.<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>Now that we have declared our most concrete components, we need to declare the one that is analogous to the Component in the Composite pattern diagram. Our <code class="language-text">Component</code> needs to aggregate the queries of the others, and declare its <code class="language-text">Ident</code>, a unique key by which each data item is identified in our example. Besides defining an <code class="language-text">id</code>, we could also have a the type of an item in our data; in our simple example this is not necessary as we know leaves can't have children. It looks like this:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span>defui Component
  static om/Ident
  <span class="token punctuation">(</span>ident <span class="token punctuation">[</span>this <span class="token punctuation">{</span><span class="token operator">:keys</span> <span class="token punctuation">[</span>id <span class="token keyword">children</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">(</span><span class="token keyword">if-not</span> <span class="token punctuation">(</span><span class="token keyword">nil?</span> <span class="token keyword">children</span><span class="token punctuation">)</span>
      <span class="token punctuation">[</span><span class="token operator">:composite</span> id<span class="token punctuation">]</span>
      <span class="token punctuation">[</span><span class="token operator">:leaf</span> id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  static om/IQuery
  <span class="token punctuation">(</span>query <span class="token punctuation">[</span>this<span class="token punctuation">]</span>
    <span class="token punctuation">{</span><span class="token operator">:leaf</span> <span class="token punctuation">(</span>om/get-query Leaf<span class="token punctuation">)</span>
     <span class="token operator">:composite</span> <span class="token punctuation">(</span>om/get-query Composite<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>We will need a root component, which we will call <code class="language-text">CompositeApp</code>. This one helps define the union query in <code class="language-text">Component</code>.</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span>defui CompositeApp
  static om/IQuery
  <span class="token punctuation">(</span>query <span class="token punctuation">[</span>this<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">:composite</span>/item <span class="token punctuation">(</span>om/get-query Component<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>Once we have properly implemented our parser and render methods, we get the following result, which is exactly what we intended. Squares that contain other squares.</p>
<div style="margin-bottom: 20px;">
  <div id="dp-card-2"></div>
</div>
<p>You can find the complete source code for this post <a href="https://gist.github.com/anmonteiro/2b282aa35380558a8b1d#file-composite-cljs">here</a>.</p>
<p>In the next post we will talk about the <a href="https://en.wikipedia.org/wiki/Decorator_pattern">Decorator</a> design pattern. Stay tuned!</p>
<hr>
<p><sup><sub>1</sub></sup> <sub>these components are not really heterogeneous in the sense that they only differ in the <code class="language-text">children</code> attribute and we could get away with just one component (a leaf would be an item without children). However, the purpose here is to demonstrate the Composite design pattern and, as such, we'll be a little more verbose.</sub></p>
<p><sup><sub>2</sub></sup> <sub>render methods are omitted for brevity.</sub></p>
<p><sup><sub>3</sub></sup> <sub>at the time of this writing, you'll need to clone Om Next from master and install it in your local repository in order to run the example code</sub></p>
<script type="text/javascript" src="/js/exploration-dp-1.js"></script></div><div style="margin-top:2rem;margin-bottom:1rem"><a href="https://twitter.com/share?hashtags=clojure,clojurescript,om" class="twitter-share-button" data-via="_anmonteiro">Tweet</a><a href="https://twitter.com/_anmonteiro" class="twitter-follow-button" data-show-count="false">Follow @_anmonteiro</a></div><div id="disqus_thread"><noscript>Please enable JavaScript to view the<!-- --> <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div><div class="related"><h2>Related Posts</h2><ul class="related-posts"><li><h3><a href="/2017/09/the-state-of-clojurescript-compilation-in-lumo/">The State of ClojureScript Compilation in Lumo<!-- --> <small>19 Sep 2017</small></a></h3></li><li><h3><a href="/2017/05/on-lumos-growth-and-sustainability/">On Lumo&#x27;s Growth and Sustainability<!-- --> <small>01 May 2017</small></a></h3></li><li><h3><a href="/2017/03/requiring-node-js-modules-from-clojurescript-namespaces/">Requiring Node.js modules from ClojureScript namespaces<!-- --> <small>17 Mar 2017</small></a></h3></li></ul></div></div></div></div><label for="sidebar-checkbox" class="sidebar-toggle"></label></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-js","jsonName":"2016-01-exploration-patterns-om-next-part-1-bf6","path":"/2016/01/exploration-patterns-om-next-part-1/"};window.dataPath="549/path---2016-01-exploration-patterns-om-next-part-1-bf-6-4b5-XF95hwEOu1aSzxQiCgRneeS7M";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-694be8ca2a1be72bafa3.js"],"component---src-templates-homepage-js":["/component---src-templates-homepage-js-1bb534071f747ca56c65.js"],"component---src-templates-post-js":["/component---src-templates-post-js-c20d619e98ef26a2045e.js"],"component---src-templates-page-js":["/component---src-templates-page-js-711ac9cc9664b69293fc.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9bbbbda6d18b2d04772c.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-d97407c2524f8e521bca.js"],"pages-manifest":["/pages-manifest-98ed7543868a650125b9.js"]};/*]]>*/</script><script src="/webpack-runtime-58919e2cd467099fa0b8.js" async=""></script><script src="/styles-caf22cadb3e89a1505b5.js" async=""></script><script src="/1-514ff0fa15c810a82764.js" async=""></script><script src="/2-edbe58b1131d6102fbd4.js" async=""></script><script src="/app-694be8ca2a1be72bafa3.js" async=""></script><script src="/component---src-templates-post-js-c20d619e98ef26a2045e.js" async=""></script></body></html>