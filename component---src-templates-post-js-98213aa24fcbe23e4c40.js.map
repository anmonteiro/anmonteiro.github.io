{"version":3,"sources":["webpack:///./src/templates/post.js","webpack:///./src/utils/dom.js","webpack:///./src/components/sidebar.js","webpack:///./src/components/layout.js","webpack:///./src/components/seo.js"],"names":["TwitterPlug","_ref","tags","useScriptTag","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","style","marginTop","marginBottom","href","join","className","data-via","data-show-count","Disqus","_ref2","url","identifierParts","slug","split","filter","x","identifier","length","id","rel","query","RelatedPosts","_ref4","allPosts","currentPost","relatedPosts","allPostsLength","i","post","node","fields","some","tag","indexOf","push","_loop","map","idx","_post$fields","title","date","key","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","to","__webpack_exports__","_ref3","data","markdownRemark","_components_layout__WEBPACK_IMPORTED_MODULE_3__","_components_seo__WEBPACK_IMPORTED_MODULE_4__","pageData","dangerouslySetInnerHTML","__html","html","edges","__webpack_require__","d","useGoogleAnalytics","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","content","tagRef","React","useRef","useEffect","body","document","current","scriptElement","innerHTML","appendChild","removeChild","_","sidebar","siteMetadata","pagesInfo","description","react_default","Fragment","type","gatsby_link_default","classNames","pageTitle","moment","year","children","toggle","querySelector","checkbox","handleClick","target","checked","contains","addEventListener","removeEventListener","gatsby_browser_entry","render","site","pages","allMarkdownRemark","_site$siteMetadata","tagline","objectWithoutPropertiesLoose_default","htmlFor","_1594900446","gatsby__WEBPACK_IMPORTED_MODULE_2__","seo","pageDescription","excerpt","path","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","charset","http-equiv","name","property","sizes","_public_static_d_294076752_json__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"component---src-templates-post-js-98213aa24fcbe23e4c40.js","sourcesContent":["import React from 'react';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { useScriptTag } from '../utils/dom';\n\nfunction TwitterPlug({ tags }) {\n  useScriptTag(\n    `!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');`,\n  );\n  useScriptTag(\n    `!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');`,\n  );\n\n  return (\n    <div style={{ marginTop: '2rem', marginBottom: '1rem' }}>\n      <a\n        href={`https://twitter.com/share?hashtags=${tags.join(',')}`}\n        className='twitter-share-button'\n        data-via='_anmonteiro'\n      >\n        Tweet\n      </a>\n      <a\n        href='https://twitter.com/_anmonteiro'\n        className='twitter-follow-button'\n        data-show-count='false'\n      >\n        Follow @_anmonteiro\n      </a>\n    </div>\n  );\n}\n\nfunction Disqus({ url, slug }) {\n  const identifierParts = slug.split('/').filter(x => x !== '');\n  const identifier = identifierParts[identifierParts.length - 1].split('.')[0];\n  useScriptTag(`\n  var disqus_config = function () {\n      this.page.url = '${url}';\n      this.page.identifier = '${identifier}';\n  };\n  (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW\n      var d = document, s = d.createElement('script');\n\n      s.src = '//anmonteiro.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!\n\n      s.setAttribute('data-timestamp', +new Date());\n      (d.head || d.body).appendChild(s);\n  })();\n`);\n  return (\n    <div id='disqus_thread'>\n      <noscript>\n        Please enable JavaScript to view the{' '}\n        <a href='https://disqus.com/?ref_noscript' rel='nofollow'>\n          comments powered by Disqus.\n        </a>\n      </noscript>\n    </div>\n  );\n}\n\nexport const query = graphql`\n  query BlogPostQuery($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      excerpt\n      html\n      fields {\n        title\n        date\n        tags\n        slug\n        url\n      }\n    }\n\n    allPosts: allMarkdownRemark(\n      sort: { fields: [fileAbsolutePath], order: DESC }\n      filter: { frontmatter: { layout: { eq: \"post\" } } }\n      limit: 1000\n    ) {\n      edges {\n        node {\n          fields {\n            title\n            slug\n            tags\n            date\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default ({ data }) => {\n  const post = data.markdownRemark;\n  const { allPosts } = data;\n  return (\n    <Layout>\n      <SEO pageData={post} />\n      <div className='post'>\n        <h1 className='post-title'>{post.fields.title}</h1>\n        <span className='post-date'>{post.fields.date}</span>\n        <div dangerouslySetInnerHTML={{ __html: post.html }} />\n        <TwitterPlug tags={post.fields.tags} />\n        <Disqus {...post.fields} />\n        <RelatedPosts allPosts={allPosts.edges} currentPost={post} />\n      </div>\n    </Layout>\n  );\n};\n\nfunction RelatedPosts({ allPosts, currentPost }) {\n  const relatedPosts = [];\n  const allPostsLength = allPosts.length;\n  for (let i = 0; i < allPostsLength; i++) {\n    if (relatedPosts.length === 3) {\n      break;\n    }\n    const post = allPosts[i].node;\n    const { tags } = post.fields;\n    if (tags.some(tag => currentPost.fields.tags.indexOf(tag) !== -1)) {\n      relatedPosts.push(post);\n    }\n  }\n\n  if (relatedPosts.length < 3) {\n    for (let i = 0; i < allPostsLength; i++) {\n      if (relatedPosts.length === 3) {\n        break;\n      }\n      const post = allPosts[i].node;\n      const { slug } = post.fields;\n      if (!relatedPosts.some(post => post.fields.slug === slug)) {\n        relatedPosts.push(post);\n      }\n    }\n  }\n\n  return (\n    <div className='related'>\n      <h2>Related Posts</h2>\n      <ul className='related-posts'>\n        {relatedPosts.map((post, idx) => {\n          const { title, slug, date } = post.fields;\n          return (\n            <li key={idx}>\n              <h3>\n                <Link to={slug}>\n                  {title} <small>{date}</small>\n                </Link>\n              </h3>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport function useScriptTag(content) {\n  const tagRef = React.useRef(null);\n\n  React.useEffect(() => {\n    const body = document.body;\n    if (tagRef.current == null) {\n      const scriptElement = document.createElement('script');\n      scriptElement.innerHTML = content;\n      tagRef.current = scriptElement;\n      body.appendChild(scriptElement);\n    }\n\n    return () => {\n      const scriptElement = tagRef.current;\n      if (scriptElement != null) {\n        try {\n          body.removeChild(scriptElement);\n        } catch (_) {}\n      }\n    };\n  });\n}\n\nexport function useGoogleAnalytics() {\n  useScriptTag(`\n  if (window.location.hostname !== 'localhost') {\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n    ga('create', 'UA-20102574-2', 'auto');\n    ga('send', 'pageview');\n  }\n      `);\n}\n","import React from 'react';\nimport Link from 'gatsby-link';\nimport classNames from 'classnames';\nimport moment from 'moment';\n\nexport default ({ siteMetadata, pagesInfo }) => {\n  const { title, description } = siteMetadata;\n  return (\n    // Target for toggling the sidebar `.sidebar-checkbox` is for regular\n    // styles, `#sidebar-checkbox` for behavior.\n    <>\n      <input\n        type='checkbox'\n        className='sidebar-checkbox'\n        id='sidebar-checkbox'\n      />\n\n      {/* Toggleable sidebar */}\n      <div className='sidebar' id='sidebar'>\n        <div className='sidebar-item description'>\n          <p>{description}</p>\n        </div>\n\n        <nav className='sidebar-nav'>\n          <Link\n            key='00'\n            className={classNames(\n              'sidebar-nav-item',\n              title === 'Home' ? 'active' : null,\n            )}\n            to='/'\n          >\n            Home\n          </Link>\n          <Link\n            key='01'\n            className={classNames(\n              'sidebar-nav-item',\n              'Archive' === title ? 'active' : null,\n            )}\n            to='/archive'\n          >\n            Archive\n          </Link>\n\n          {/* The code below dynamically generates a sidebar nav of pages with\n      `layout: page` in the front-matter. See readme for usage. */}\n          {pagesInfo.map(({ node }, idx) => {\n            const pageTitle = node.fields.title;\n            return (\n              <Link\n                key={idx}\n                className={classNames(\n                  'sidebar-nav-item',\n                  pageTitle === title ? 'active' : null,\n                )}\n                to={node.fields.slug}\n              >\n                {pageTitle}\n              </Link>\n            );\n          })}\n\n          <a className='sidebar-nav-item' href='http://github.com/anmonteiro'>\n            GitHub (anmonteiro)\n          </a>\n        </nav>\n\n        <div className='sidebar-item'>\n          <p>&copy; {moment().year()}. All rights reserved.</p>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Link from 'gatsby-link';\nimport Sidebar from './sidebar';\nimport { useGoogleAnalytics } from '../utils/dom';\nimport '../css/poole.css';\nimport '../css/lanyon.css';\nimport '../css/anmonteiro.css';\nimport '../css/fontello.css';\nimport 'prismjs/themes/prism-tomorrow.css';\n\nfunction useSidebar() {\n  return React.useEffect(() => {\n    var toggle = document.querySelector('.sidebar-toggle');\n    var sidebar = document.querySelector('#sidebar');\n    var checkbox = document.querySelector('#sidebar-checkbox');\n    const handleClick = ({ target }) => {\n      if (\n        !checkbox.checked ||\n        sidebar.contains(target) ||\n        (target === checkbox || target === toggle)\n      ) {\n        return;\n      }\n\n      checkbox.checked = false;\n    };\n    document.addEventListener('click', handleClick, false);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n}\n\nexport default ({ children }) => {\n  useSidebar();\n  useGoogleAnalytics();\n\n  return (\n    <StaticQuery\n      query={graphql`\n        {\n          site {\n            siteMetadata {\n              title\n              description\n              tagline\n            }\n          }\n          allMarkdownRemark(\n            sort: { fields: [frontmatter___title] }\n            filter: { frontmatter: { layout: { eq: \"page\" } } }\n          ) {\n            edges {\n              node {\n                fields {\n                  title\n                  slug\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={({ site, allMarkdownRemark: pages }) => {\n        const { tagline, ...siteMetadata } = site.siteMetadata;\n\n        return (\n          <div className='theme-base-0f'>\n            <Sidebar siteMetadata={siteMetadata} pagesInfo={pages.edges} />\n            {/* Wrap is the content to shift when toggling the sidebar. We wrap the\n              content to avoid any CSS collisions with our real content. */}\n            <div className='wrap'>\n              <div className='masthead'>\n                <div className='container'>\n                  <h3 className='masthead-title'>\n                    <Link to={''} title={'Home'}>\n                      {siteMetadata.title}\n                    </Link>\n                    <small> {tagline}</small>\n                  </h3>\n                  <div className='masthead-feed'>\n                    <Link to={'/atom.xml'}>\n                      <span className='icon-rss' />{' '}\n                    </Link>\n                  </div>\n                  <div className='clearfix' />\n                </div>\n              </div>\n\n              <div className='content container'>{children}</div>\n            </div>\n            <label htmlFor='sidebar-checkbox' className='sidebar-toggle' />\n          </div>\n        );\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Helmet from 'react-helmet';\n\nexport default ({ pageData }) => (\n  <StaticQuery\n    query={graphql`\n      {\n        site {\n          siteMetadata {\n            title\n            description\n            tagline\n            url\n          }\n        }\n      }\n    `}\n    render={({ site: { siteMetadata: seo } }) => {\n      const url = seo.url;\n      const fields = pageData.fields || {};\n      const tags = fields.tags || [];\n      const title =\n        fields.title != null\n          ? `${fields.title} 路 ${seo.title}`\n          : `${seo.title} 路 ${seo.tagline}`;\n      const pageDescription = pageData.excerpt\n        ? pageData.excerpt\n        : seo.description;\n      const path =\n        fields.url != null\n          ? fields.url\n          : pageData.url != null\n          ? pageData.url\n          : '';\n\n      return (\n        <Helmet>\n          <meta charset='utf-8' />\n          <meta http-equiv='X-UA-Compatible' content='IE=edge' />\n          <meta http-equiv='content-type' content='text/html; charset=utf-8' />\n          {/* Enable responsiveness on mobile devices */}\n          <meta\n            name='viewport'\n            content='width=device-width, initial-scale=1.0, maximum-scale=1'\n          />\n\n          <meta name='keywords' content={tags.join(',')} />\n\n          {/* Site description */}\n          <meta name='description' content={pageDescription} />\n\n          <meta name='googlebot' content='index,follow' />\n          <meta\n            name='google-site-verification'\n            content='jNB_RpsVIbD_zo20cgitqGwzGVqV8q2otgU18nVlFTo'\n          />\n\n          {/* Facebook / Open graph */}\n          <meta property='og:url' content={`${url}${path}`} />\n          <meta property='og:type' content='website' />\n          <meta property='og:title' content={title} />\n          <meta property='og:image' content={`${url}/img/profile_pic.png`} />\n          <meta property='og:description' content={pageDescription} />\n          <meta\n            property='og:site_name'\n            content={`${seo.title} 路 ${seo.tagline}`}\n          />\n          <meta property='og:locale' content='en_US' />\n\n          {/* Twitter */}\n          <meta name='twitter:card' content='summary' />\n          <meta name='twitter:site' content='@_anmonteiro' />\n          <meta name='twitter:creator' content='@_anmonteiro' />\n          <meta name='twitter:url' content={`${url}${path}`} />\n          <meta name='twitter:title' content={title} />\n          <meta name='twitter:description' content={pageDescription} />\n          <meta name='twitter:image' content={`${url}/img/profile_pic.png`} />\n\n          <link href='http://gmpg.org/xfn/11' rel='profile' />\n          <link\n            rel='me'\n            href='https://twitter.com/_anmonteiro'\n            type='text/html'\n          />\n          <link rel='archives' href={`${url}/archive/`} title='Archive' />\n          <link\n            rel='index'\n            href={url}\n            title={`${seo.title} 路 ${seo.tagline}`}\n          />\n          <link rel='canonical' href={`${url}${path}`} />\n\n          <title>{title}</title>\n\n          {/* Icons */}\n          <link\n            rel='apple-touch-icon-precomposed'\n            sizes='144x144'\n            href='/apple-touch-icon-144-precomposed.png'\n          />\n          <link rel='shortcut icon' href='/favicon.ico' />\n\n          {/* RSS */}\n          <link\n            rel='alternate'\n            type='application/atom+xml'\n            title='RSS'\n            href='/atom.xml'\n          />\n        </Helmet>\n      );\n    }}\n  />\n);\n"],"sourceRoot":""}